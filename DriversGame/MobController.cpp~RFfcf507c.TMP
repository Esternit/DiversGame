#include "MobController.h"

MobController::MobController(float delay) : delay(delay) {
	timer.restart();
}

void MobController::spawnEnemies(std::vector<Enemy>& enemies, std::vector<Spawner>& spawners, Player& player) {
    if (timer.getElapsedTime().asSeconds() > delay) {
		timer.restart();
		int amount = rand() % 5 + 1;
		spawnEnemies(amount, enemies, spawners, player);
    }
    int posX, posY;

    for (int i = 0; i < amount; i++) {
        posX = rand() % 2401;
        posY = rand() % 1441;
        enemies.push_back(Enemy(TextureHolder::GetTexture("Assets/Enemy/firebug.png"), posX, posY, FrameAnimation(0, 90, 0, 100), 65, 40, 20, 3, 2, "Firebug"));
        //enemies.push_back(Enemy(TextureHolder::GetTexture("Assets/Enemy/Minotaur.png"), posX, posY, FrameAnimation(0, 90, 0, 100), 60, 60, 100, 10, 20, "Minotaur"));
    }
}